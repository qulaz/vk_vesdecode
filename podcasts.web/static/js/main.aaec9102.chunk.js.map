{"version":3,"sources":["js/services/_functions.js","js/store/router/reducers.js","js/store/vk/reducers.js","js/store/formData/reducers.js","js/store/podcast/reducers.js","js/store/audio/reducers.js","js/store/timecode/reducers.js","js/store/effects/reducers.js","js/store/reducers.js","js/store/vk/actionTypes.js","js/store/router/actionTypes.js","js/services/VK.js","js/store/formData/actionTypes.js","js/store/podcast/actionTypes.js","js/store/audio/actionTypes.js","js/store/timecode/actionTypes.js","js/store/effects/actionTypes.js","js/store/router/actions.js","js/panels/Home.js","js/store/audio/actions.js","js/components/ImageUploader/index.js","js/components/AudioUploader/index.js","js/panels/podcasts/PodcastCreate.js","js/store/podcast/actions.js","js/panels/podcasts/PodcastSelectViewMode.js","js/panels/podcasts/PodcastPreview.js","js/panels/podcasts/PodcastAdded.js","js/utils/index.js","js/panels/podcasts/PodcastEdit.js","js/store/timecode/actions.js","js/store/effects/actions.js","App.js","js/store/vk/actions.js","index.js"],"names":["getActivePanel","view","panel","store","getState","router","activePanel","panelsHistory","length","initialState","activeStory","activeView","storiesHistory","viewsHistory","activeModals","modalHistory","popouts","scrollPosition","accessToken","undefined","colorScheme","activeTab","componentScroll","forms","title","cover","description","isExplicit","isExclude","isTrailer","available","file","name","duration","fadeIn","fadeOut","isFadeInRegionCreated","isFadeOutRegionCreated","combineReducers","vkui","state","arguments","action","type","Object","objectSpread","payload","defineProperty","component","tab","x","y","element","document","getElementById","getElementsByClassName","scrollLeft","scrollTop","View","Panel","window","history","pushState","viewIndexInHistory","indexOf","splice","concat","toConsumableArray","bridge","send","then","data","catch","error","pageYOffset","story","initial_panel","firstPanel","shift","firstView","scrollTo","smoothScrollToTop","c","documentElement","body","requestAnimationFrame","setView","setPanel","setStory","popoutsData","viewModalsHistory","activeModal","push","pop","panelsHistoryNew","status","popout","id","modalsHistory","formData","form","podcast","audio","timecode","console","log","sort","time","effects","setPage","goBack","openPopout","closePopout","openModal","closeModal","HomePanel","_this$props","this","props","react_default","a","createElement","es6","centered","icon","add_circle_outline_default","header","size","onClick","React","Component","mapDispatchToProps","connect","setAudio","ImageUploader","context","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","imageBase64","ImageInput","createRef","onInput","bind","assertThisInitialized","_this2","reader","FileReader","onload","e","onSetImage","target","result","setState","readAsDataURL","current","files","readPhoto","image","className","style","backgroundImage","ref","accept","multiple","gallery_outline_default","fill","width","height","PureComponent","AudioUploader","Input","audioPicker","getRef","mode","controlSize","onChange","viewPickedAudio","paddingTop","PaddingBottom","podcast_outline_default","clearAudio","cancel_default","beforeLeave","PodcastCreate","filledFieldsKeys","filledFields","entries","reduce","i","kv","_kv","slicedToArray","k","v","includes","fromEntries","onChangeCheckbox","submit","_e$currentTarget","currentTarget","value","checked","setPodcastInfo","_this3","left","paddingBottom","display","components_ImageUploader","paddingLeft","setPodcastCover","top","placeholder","components_AudioUploader","wide","expandable","filled","vertical","disabled","values","filter","PodcastSelectViewMode","setParam","setAvailable","onClose","platform","IOS","right","dismiss_default","settlingHeight","padding","asideContent","done_default","PodcastPreview","timecodes","map","el","key","href","separator","play_default","margin","headphones_outline_default","PodcastAdded","check_circle_outline_default","secToDuration","sec","dur","Date","toISOString","substr","startsWith","slice","PodcastEdit","play","waveformRef","togglePlay","createFadeInRegion","createFadeOutRegion","applyFilters","waveform","WaveSurfer","create","container","waveColor","progressColor","cursorColor","barWidth","barRadius","cursorWidth","barGap","plugins","Timeline","primaryColor","secondaryColor","primaryFontColor","secondaryFontColor","notchPercentHeight","formatTimeCallback","Region","on","warn","loadBlob","zoom","setAudioDuration","getDuration","debounceSetFilterRegions","debounce","start","Math","max","end","min","backend","buffer","setFadeIn","setFadeOut","regions","list","addRegion","drag","minLength","maxLength","destroy","playPause","currentTime","fadeInTimeRage","fadeOutTimeRage","isValueInRegion","gainNode","gain","remove","clearFadeIn","seekTo","clearFadeOut","_this4","index","newState","pattern","validity","valid","_","setTimecodes","sortTimecodes","pause_default","_28_play_default","viewBox","xmlns","d","stroke","strokeWidth","strokeLinecap","strokeLinejoin","CellButton_default","before","add_default","getCurrentTime","marginTop","fontSize","color","arr","App","lastAndroidBackAction","dispatch","subscribe","VKBridgeCallback","detail","unsubscribe","scheme","onpopstate","timeNow","prevProps","prevState","snapshot","_this$props2","pageScrollPosition","scroll","_this$props3","podcastModals","podcasts_PodcastSelectViewMode","isWebView","onSwipeBack","Home","modal","podcasts_PodcastCreate","panels_podcasts_PodcastPreview","podcasts_PodcastAdded","panels_podcasts_PodcastEdit","bindActionCreators","__webpack_require__","__webpack_exports__","createStore","rootReducer","composeWithDevTools","applyMiddleware","thunk","ReactDOM","render","react_redux_es","src_App"],"mappings":"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","file":"static/js/main.aaec9102.chunk.js","sourcesContent":["import { store } from \"../../index\";\n\nexport const smoothScrollToTop = () => {\n  const c = document.documentElement.scrollTop || document.body.scrollTop;\n\n  if (c > 30) {\n    return;\n  }\n\n  if (c > 0) {\n    window.requestAnimationFrame(smoothScrollToTop);\n    window.scrollTo(0, c - c / 8);\n  }\n};\n\nexport const restoreScrollPosition = () => {\n  let scrolls = store.getState().vkui.componentScroll;\n\n  Object.keys(scrolls).forEach((component) => {\n    let componentData = scrolls[component];\n\n    let element = document.getElementById(component);\n\n    if (element) {\n      element = element.getElementsByClassName(\"HorizontalScroll__in\")[0];\n\n      element.scrollLeft = componentData.x;\n      element.scrollTop = componentData.y;\n    }\n  });\n};\n\nexport const getActivePanel = (view) => {\n  let panel = store.getState().router.activePanel;\n\n  let panelsHistory = store.getState().router.panelsHistory;\n  if (typeof panelsHistory[view] !== \"undefined\") {\n    panel = panelsHistory[view][panelsHistory[view].length - 1];\n  }\n\n  return panel;\n};\n","import {\n  SET_PAGE,\n  GO_BACK,\n  OPEN_POPOUT,\n  CLOSE_POPOUT,\n  OPEN_MODAL,\n  CLOSE_MODAL,\n  SET_STORY,\n} from \"./actionTypes\";\n\nimport * as VK from \"../../services/VK\";\nimport { smoothScrollToTop } from \"../../services/_functions\";\n\nconst initialState = {\n  activeStory: null,\n  activeView: null,\n  activePanel: null,\n\n  storiesHistory: [],\n  viewsHistory: [],\n  panelsHistory: [],\n\n  activeModals: [],\n  modalHistory: [],\n  popouts: [],\n\n  scrollPosition: [],\n};\n\nexport const routerReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case SET_PAGE: {\n      let View = action.payload.view;\n      let Panel = action.payload.panel;\n\n      window.history.pushState(null, null);\n\n      let panelsHistory = state.panelsHistory[View] || [];\n      let viewsHistory = state.viewsHistory[state.activeStory] || [];\n\n      const viewIndexInHistory = viewsHistory.indexOf(View);\n\n      if (viewIndexInHistory !== -1) {\n        viewsHistory.splice(viewIndexInHistory, 1);\n      }\n\n      if (panelsHistory.indexOf(Panel) === -1) {\n        panelsHistory = [...panelsHistory, Panel];\n      }\n\n      if (panelsHistory.length > 1) {\n        VK.swipeBackOn();\n      }\n\n      return {\n        ...state,\n        activeView: View,\n        activePanel: Panel,\n\n        panelsHistory: {\n          ...state.panelsHistory,\n          [View]: panelsHistory,\n        },\n        viewsHistory: {\n          ...state.viewsHistory,\n          [state.activeStory]: [...viewsHistory, View],\n        },\n        scrollPosition: {\n          ...state.scrollPosition,\n          [state.activeStory +\n          \"_\" +\n          state.activeView +\n          \"_\" +\n          state.activePanel]: window.pageYOffset,\n        },\n      };\n    }\n\n    case SET_STORY: {\n      window.history.pushState(null, null);\n\n      let viewsHistory = state.viewsHistory[action.payload.story] || [\n        action.payload.story,\n      ];\n\n      let storiesHistory = state.storiesHistory;\n      let activeView = viewsHistory[viewsHistory.length - 1];\n      let panelsHistory = state.panelsHistory[activeView] || [\n        action.payload.initial_panel,\n      ];\n      let activePanel = panelsHistory[panelsHistory.length - 1];\n\n      if (action.payload.story === state.activeStory) {\n        if (panelsHistory.length > 1) {\n          let firstPanel = panelsHistory.shift();\n          panelsHistory = [firstPanel];\n\n          activePanel = panelsHistory[panelsHistory.length - 1];\n        } else if (viewsHistory.length > 1) {\n          let firstView = viewsHistory.shift();\n          viewsHistory = [firstView];\n\n          activeView = viewsHistory[viewsHistory.length - 1];\n          panelsHistory = state.panelsHistory[activeView];\n          activePanel = panelsHistory[panelsHistory.length - 1];\n        }\n      }\n\n      if (\n        action.payload.story === state.activeStory &&\n        panelsHistory.length === 1 &&\n        window.pageYOffset > 0\n      ) {\n        window.scrollTo(0, 30);\n\n        smoothScrollToTop();\n      }\n\n      const storiesIndexInHistory = storiesHistory.indexOf(\n        action.payload.story\n      );\n\n      if (\n        storiesIndexInHistory === -1 ||\n        (storiesHistory[0] === action.payload.story &&\n          storiesHistory[storiesHistory.length - 1] !== action.payload.story)\n      ) {\n        storiesHistory = [...storiesHistory, action.payload.story];\n      }\n\n      return {\n        ...state,\n        activeStory: action.payload.story,\n        activeView: activeView,\n        activePanel: activePanel,\n\n        storiesHistory: storiesHistory,\n        viewsHistory: {\n          ...state.viewsHistory,\n          [activeView]: viewsHistory,\n        },\n        panelsHistory: {\n          ...state.panelsHistory,\n          [activeView]: panelsHistory,\n        },\n\n        scrollPosition: {\n          ...state.scrollPosition,\n          [state.activeStory +\n          \"_\" +\n          state.activeView +\n          \"_\" +\n          state.activePanel]: window.pageYOffset,\n        },\n      };\n    }\n\n    case GO_BACK: {\n      let setView = state.activeView;\n      let setPanel = state.activePanel;\n      let setStory = state.activeStory;\n\n      let popoutsData = state.popouts;\n\n      if (popoutsData[setView]) {\n        popoutsData[setView] = null;\n\n        return {\n          ...state,\n          popouts: {\n            ...state.popouts,\n            popoutsData,\n          },\n        };\n      }\n\n      let viewModalsHistory = state.modalHistory[setView];\n\n      if (viewModalsHistory !== undefined && viewModalsHistory.length !== 0) {\n        let activeModal =\n          viewModalsHistory[viewModalsHistory.length - 2] || null;\n\n        if (activeModal === null) {\n          viewModalsHistory = [];\n        } else if (viewModalsHistory.indexOf(activeModal) !== -1) {\n          viewModalsHistory = viewModalsHistory.splice(\n            0,\n            viewModalsHistory.indexOf(activeModal) + 1\n          );\n        } else {\n          viewModalsHistory.push(activeModal);\n        }\n\n        return {\n          ...state,\n          activeModals: {\n            ...state.activeModals,\n            [setView]: activeModal,\n          },\n          modalHistory: {\n            ...state.modalHistory,\n            [setView]: viewModalsHistory,\n          },\n        };\n      }\n\n      let panelsHistory = state.panelsHistory[setView] || [];\n      let viewsHistory = state.viewsHistory[state.activeStory] || [];\n      let storiesHistory = state.storiesHistory;\n\n      if (panelsHistory.length > 1) {\n        panelsHistory.pop();\n\n        setPanel = panelsHistory[panelsHistory.length - 1];\n      } else if (viewsHistory.length > 1) {\n        viewsHistory.pop();\n\n        setView = viewsHistory[viewsHistory.length - 1];\n        let panelsHistoryNew = state.panelsHistory[setView];\n\n        setPanel = panelsHistoryNew[panelsHistoryNew.length - 1];\n      } else if (storiesHistory.length > 1) {\n        storiesHistory.pop();\n\n        setStory = storiesHistory[storiesHistory.length - 1];\n        setView =\n          state.viewsHistory[setStory][state.viewsHistory[setStory].length - 1];\n\n        let panelsHistoryNew = state.panelsHistory[setView];\n\n        if (panelsHistoryNew.length > 1) {\n          setPanel = panelsHistoryNew[panelsHistoryNew.length - 1];\n        } else {\n          setPanel = panelsHistoryNew[0];\n        }\n      } else {\n        VK.closeApp();\n      }\n\n      if (panelsHistory.length === 1) {\n        VK.swipeBackOff();\n      }\n\n      return {\n        ...state,\n        activeView: setView,\n        activePanel: setPanel,\n        activeStory: setStory,\n\n        viewsHistory: {\n          ...state.viewsHistory,\n          [state.activeView]: viewsHistory,\n        },\n        panelsHistory: {\n          ...state.panelsHistory,\n          [state.activeView]: panelsHistory,\n        },\n      };\n    }\n\n    case OPEN_POPOUT: {\n      window.history.pushState(null, null);\n\n      return {\n        ...state,\n        popouts: {\n          ...state.popouts,\n          [state.activeView]: action.payload.popout,\n        },\n      };\n    }\n\n    case CLOSE_POPOUT: {\n      return {\n        ...state,\n        popouts: {\n          ...state.popouts,\n          [state.activeView]: null,\n        },\n      };\n    }\n\n    case OPEN_MODAL: {\n      window.history.pushState(null, null);\n\n      let activeModal = action.payload.id || null;\n      let modalsHistory = state.modalHistory[state.activeView]\n        ? [...state.modalHistory[state.activeView]]\n        : [];\n\n      if (activeModal === null) {\n        modalsHistory = [];\n      } else if (modalsHistory.indexOf(activeModal) !== -1) {\n        modalsHistory = modalsHistory.splice(\n          0,\n          modalsHistory.indexOf(activeModal) + 1\n        );\n      } else {\n        modalsHistory.push(activeModal);\n      }\n\n      return {\n        ...state,\n        activeModals: {\n          ...state.activeModals,\n          [state.activeView]: activeModal,\n        },\n        modalHistory: {\n          ...state.modalHistory,\n          [state.activeView]: modalsHistory,\n        },\n      };\n    }\n\n    case CLOSE_MODAL: {\n      let activeModal =\n        state.modalHistory[state.activeView][\n          state.modalHistory[state.activeView].length - 2\n        ] || null;\n      let modalsHistory = state.modalHistory[state.activeView]\n        ? [...state.modalHistory[state.activeView]]\n        : [];\n\n      if (activeModal === null) {\n        modalsHistory = [];\n      } else if (modalsHistory.indexOf(activeModal) !== -1) {\n        modalsHistory = modalsHistory.splice(\n          0,\n          modalsHistory.indexOf(activeModal) + 1\n        );\n      } else {\n        modalsHistory.push(activeModal);\n      }\n\n      return {\n        ...state,\n        activeModals: {\n          ...state.activeModals,\n          [state.activeView]: activeModal,\n        },\n        modalHistory: {\n          ...state.modalHistory,\n          [state.activeView]: modalsHistory,\n        },\n      };\n    }\n\n    default: {\n      return state;\n    }\n  }\n};\n","import {\n  SET_ACTIVE_TAB,\n  SET_COLOR_SCHEME,\n  SET_SCROLL_POSITION,\n  SET_SCROLL_POSITION_BY_ID,\n} from \"./actionTypes\";\n\nconst initialState = {\n  accessToken: undefined,\n  colorScheme: \"client_light\",\n\n  activeTab: [],\n  componentScroll: [],\n};\n\nexport const vkuiReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case SET_COLOR_SCHEME: {\n      return {\n        ...state,\n        colorScheme: action.payload,\n      };\n    }\n\n    case SET_ACTIVE_TAB: {\n      return {\n        ...state,\n        activeTab: {\n          ...state.activeTab,\n          [action.payload.component]: action.payload.tab,\n        },\n      };\n    }\n\n    case SET_SCROLL_POSITION: {\n      return {\n        ...state,\n        componentScroll: {\n          ...state.componentScroll,\n          [action.payload.component]: {\n            x: action.payload.x,\n            y: action.payload.y,\n          },\n        },\n      };\n    }\n\n    case SET_SCROLL_POSITION_BY_ID: {\n      let element = document\n        .getElementById(action.payload.component)\n        .getElementsByClassName(\"HorizontalScroll__in\")[0];\n\n      let x = element.scrollLeft;\n      let y = element.scrollTop;\n\n      return {\n        ...state,\n        componentScroll: {\n          ...state.componentScroll,\n          [action.payload.component]: {\n            x: x,\n            y: y,\n          },\n        },\n      };\n    }\n\n    default: {\n      return state;\n    }\n  }\n};\n","import { SET_FORM_DATA } from \"./actionTypes\";\n\nconst initialState = {\n  forms: [],\n};\n\nexport const formDataReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case SET_FORM_DATA: {\n      return {\n        ...state,\n        forms: {\n          ...state.forms,\n          [action.payload.form]: action.payload.data,\n        },\n      };\n    }\n\n    default: {\n      return state;\n    }\n  }\n};\n","import {SET_AVAILABLE, SET_PODCAST_COVER, SET_PODCAST_INFO} from './actionTypes'\n\nconst initialState = {\n  title: '',\n  cover: null,\n  description: '',\n  isExplicit: false,\n  isExclude: false,\n  isTrailer: false,\n  available: 'Всем пользователям',\n};\n\nexport const podcastInfoReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case SET_PODCAST_INFO: {\n      return {\n        ...state,\n        ...action.payload\n      };\n    }\n\n    case SET_PODCAST_COVER: {\n      return {\n        ...state,\n        ...action.payload\n      }\n    }\n\n    case SET_AVAILABLE: {\n      return {\n        ...state,\n        ...action.payload\n      }\n    }\n\n    default: {\n      return state;\n    }\n  }\n};\n","import {CLEAR_AUDIO, SET_AUDIO, SET_AUDIO_DURATION} from './actionTypes'\n\nconst initialState = {\n  file: null,\n  name: '',\n  duration: ''\n};\n\nexport const audioReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case SET_AUDIO: {\n      return {\n        ...state,\n        ...action.payload\n      };\n    }\n    case SET_AUDIO_DURATION: {\n      return {\n        ...state,\n        ...action.payload\n      };\n    }\n\n    case CLEAR_AUDIO: {\n      return {\n        ...initialState\n      };\n    }\n    default: {\n      return state;\n    }\n  }\n};\n","import {SET_TIMECODE, SORT_TIMECODES} from './actionTypes'\n\nconst initialState = [];\n\nexport const timecodeReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case SET_TIMECODE: {\n      return [...action.payload];\n    }\n    case SORT_TIMECODES: {\n      console.log([...state].sort((x, y) => x.time - y.time))\n      return [...state].sort((x, y) => x.time - y.time);\n    }\n    default: {\n      return state;\n    }\n  }\n};\n","import {CLEAR_FADE_IN, CLEAR_FADE_OUT, SET_FADE_IN, SET_FADE_OUT} from './actionTypes'\n\nconst initialState = {\n  fadeIn: null,\n  fadeOut: null,\n  isFadeInRegionCreated: false,\n  isFadeOutRegionCreated: false,\n};\n\nexport const effectReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case SET_FADE_IN: {\n      return {\n        ...state,\n        fadeIn: action.payload,\n        isFadeInRegionCreated: true,\n      };\n    }\n    case SET_FADE_OUT: {\n      return {\n        ...state,\n        fadeOut: action.payload,\n        isFadeOutRegionCreated: true,\n      };\n    }\n    case CLEAR_FADE_IN: {\n      return {\n        ...state,\n        fadeIn: null,\n        isFadeInRegionCreated: false,\n      };\n    }\n    case CLEAR_FADE_OUT: {\n      return {\n        ...state,\n        fadeOut: null,\n        isFadeOutRegionCreated: false,\n      };\n    }\n    default: {\n      return state;\n    }\n  }\n};\n","import { combineReducers } from \"redux\";\nimport { routerReducer } from \"./router/reducers\";\nimport { vkuiReducer } from \"./vk/reducers\";\nimport { formDataReducer } from \"./formData/reducers\";\nimport { podcastInfoReducer } from \"./podcast/reducers\";\nimport { audioReducer } from \"./audio/reducers\";\nimport { timecodeReducer } from \"./timecode/reducers\";\nimport { effectReducer } from \"./effects/reducers\";\n\nexport default combineReducers({\n  vkui: vkuiReducer,\n  router: routerReducer,\n  formData: formDataReducer,\n  podcast: podcastInfoReducer,\n  audio: audioReducer,\n  timecode: timecodeReducer,\n  effects: effectReducer\n});\n","export const SET_COLOR_SCHEME = \"SET_COLOR_SCHEME\";\nexport const SET_ACTIVE_TAB = \"SET_ACTIVE_TAB\";\nexport const SET_SCROLL_POSITION = \"SET_SCROLL_POSITION\";\nexport const SET_SCROLL_POSITION_BY_ID = \"SET_SCROLL_POSITION_BY_ID\";\n","export const SET_PAGE = \"SET_PAGE\";\nexport const SET_STORY = \"SET_STORY\";\nexport const GO_BACK = \"GO_BACK\";\nexport const OPEN_POPOUT = \"OPEN_POPOUT\";\nexport const CLOSE_POPOUT = \"CLOSE_POPOUT\";\nexport const OPEN_MODAL = \"OPEN_MODAL\";\nexport const CLOSE_MODAL = \"CLOSE_MODAL\";\n","import bridge from \"@vkontakte/vk-bridge\";\n\nimport { setColorScheme } from \"../store/vk/actions\";\n\nexport const initApp = () => (dispatch) => {\n  const VKBridgeCallback = (e) => {\n    if (e.detail.type === \"VKWebAppUpdateConfig\") {\n      bridge.unsubscribe(VKBridgeCallback);\n\n      dispatch(setColorScheme(e.detail.data.scheme));\n    }\n  };\n\n  bridge.subscribe(VKBridgeCallback);\n  return bridge\n    .send(\"VKWebAppInit\", {})\n    .then((data) => {\n      return data;\n    })\n    .catch((error) => {\n      return error;\n    });\n};\n\nexport const closeApp = () => {\n  return bridge\n    .send(\"VKWebAppClose\", {\n      status: \"success\",\n    })\n    .then((data) => {\n      return data;\n    })\n    .catch((error) => {\n      return error;\n    });\n};\n\nexport const swipeBackOn = () => {\n  return bridge\n    .send(\"VKWebAppEnableSwipeBack\", {})\n    .then((data) => {\n      return data;\n    })\n    .catch((error) => {\n      return error;\n    });\n};\n\nexport const swipeBackOff = () => {\n  return bridge\n    .send(\"VKWebAppDisableSwipeBack\", {})\n    .then((data) => {\n      return data;\n    })\n    .catch((error) => {\n      return error;\n    });\n};\n","export const SET_FORM_DATA = \"SAVE_FORM_DATA\";\n","export const SET_PODCAST_COVER = \"SET_PODCAST_COVER\";\nexport const SET_PODCAST_INFO = \"SET_PODCAST_INFO\";\nexport const SET_AVAILABLE = \"SET_AVAILABLE\";\n","export const SET_AUDIO = \"SET_AUDIO\";\nexport const SET_AUDIO_DURATION = \"SET_AUDIO_DURATION\";\nexport const CLEAR_AUDIO = \"CLEAR_AUDIO\";","export const SET_TIMECODE = \"SET_TIMECODE\";\nexport const SORT_TIMECODES = \"SORT_TIMECODES\";","export const SET_FADE_IN = \"SET_FADE_IN\";\nexport const SET_FADE_OUT = \"SET_FADE_OUT\";\nexport const CLEAR_FADE_OUT = \"CLEAR_FADE_OUT\";\nexport const CLEAR_FADE_IN = \"CLEAR_FADE_IN\";\n","import {\n  SET_PAGE,\n  SET_STORY,\n  GO_BACK,\n  OPEN_POPOUT,\n  CLOSE_POPOUT,\n  OPEN_MODAL,\n  CLOSE_MODAL,\n} from \"./actionTypes\";\n\nexport const setStory = (story, initial_panel) => ({\n  type: SET_STORY,\n  payload: {\n    story: story,\n    initial_panel: initial_panel,\n  },\n});\n\nexport const setPage = (view, panel) => ({\n  type: SET_PAGE,\n  payload: {\n    view: view,\n    panel: panel,\n  },\n});\n\nexport const goBack = () => ({\n  type: GO_BACK,\n});\n\nexport const openPopout = (popout) => ({\n  type: OPEN_POPOUT,\n  payload: {\n    popout: popout,\n  },\n});\n\nexport const closePopout = () => ({\n  type: CLOSE_POPOUT,\n});\n\nexport const openModal = (id) => ({\n  type: OPEN_MODAL,\n  payload: {\n    id,\n  },\n});\n\nexport const closeModal = () => ({\n  type: CLOSE_MODAL,\n});\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { Panel, Placeholder, Button, PanelHeader } from \"@vkontakte/vkui\";\nimport Icon56AddCircleOutline from \"@vkontakte/icons/dist/56/add_circle_outline\";\n\nimport {\n  closePopout,\n  goBack,\n  openModal,\n  openPopout,\n  setPage,\n} from \"../store/router/actions\";\n\nclass HomePanel extends React.Component {\n  render() {\n    const { id, setPage } = this.props;\n\n    return (\n      <Panel id={id} centered>\n        <PanelHeader>Подкасты</PanelHeader>\n        <Placeholder\n          icon={<Icon56AddCircleOutline />}\n          header=\"Добавьте первый подкаст\"\n          action={<Button size=\"l\">Добавить подкаст</Button>}\n          onClick={() => setPage(\"podcast\", \"create\")}\n        >\n          Добавляйте, редактируйте и делитесь подкастами вашего сообщества.\n        </Placeholder>\n      </Panel>\n    );\n  }\n}\n\nconst mapDispatchToProps = {\n  setPage,\n  goBack,\n  openPopout,\n  closePopout,\n  openModal,\n};\n\nexport default connect(null, mapDispatchToProps)(HomePanel);\n","import {CLEAR_AUDIO, SET_AUDIO, SET_AUDIO_DURATION} from './actionTypes'\n\nexport const setAudio = (file, name) => ({\n  type: SET_AUDIO,\n  payload: {\n    file, name\n  },\n});\n\nexport const setAudioDuration = (duration) => ({\n  type: SET_AUDIO_DURATION,\n  payload: {\n    duration\n  },\n});\n\nexport const clearAudio = () => ({\n  type: CLEAR_AUDIO,\n  payload: null,\n});\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport Icon56GalleryOutline from '@vkontakte/icons/dist/56/gallery_outline';\n\nimport './style.css'\n\n\nclass ImageUploader extends React.PureComponent {\n  constructor(props, context) {\n    super(props, context)\n    this.ImageInput = React.createRef()\n    this.onInput = this.onInput.bind(this);\n  }\n\n  state = {\n    imageBase64: null\n  }\n\n  readPhoto() {\n    const reader = new FileReader()\n    reader.onload = (e) => {\n      if (this.props.onSetImage) {\n        this.props.onSetImage(e.target.result)\n      }\n      this.setState({ imageBase64: e.target.result })\n    }\n    reader.readAsDataURL(this.ImageInput.current.files[0])\n  }\n\n  onInput(e) {\n    if (e.type === \"input\") {\n      this.readPhoto()\n    }\n  }\n\n  componentDidMount() {\n    if (!!this.props.image) {\n      this.setState({ imageBase64: this.props.image })\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"ImageUploader\" style={this.props.style}>\n        <label\n          className=\"ImageUploader ImageUploader__label\"\n          style={{backgroundImage: `url(${this.state.imageBase64})`}}\n        >\n          <input ref={this.ImageInput} type=\"file\" accept=\"image/*\" multiple onInput={this.onInput} />\n          {\n            (!this.state.imageBase64 && !this.props.image) &&\n            <Icon56GalleryOutline fill=\"#3F8AE0\" width={32} height={32} />\n          }\n        </label>\n      </div>\n    )\n  }\n}\n\nImageUploader.propTypes = {\n  // base64 image / photo path\n  image: PropTypes.string,\n  // func, first arg - base64 image\n  onSetImage: PropTypes.func,\n};\n\nexport default ImageUploader\n","import React from 'react'\nimport {Button, Placeholder, Div, File, Spinner} from '@vkontakte/vkui'\nimport PropTypes from 'prop-types'\nimport {connect} from 'react-redux'\nimport Icon28PodcastOutline from '@vkontakte/icons/dist/28/podcast_outline';\n\nimport {closePopout, openPopout, setPage} from '../../store/router/actions'\nimport \"./style.css\"\nimport {clearAudio, setAudio} from '../../store/audio/actions'\nimport Icon24Cancel from '@vkontakte/icons/dist/24/cancel'\n\nclass AudioUploader extends React.PureComponent {\n  constructor(props, context) {\n    super(props, context)\n    this.Input = React.createRef()\n    this.onInput = this.onInput.bind(this)\n  }\n\n  async onInput(e) {\n    if (e.type === \"input\" || e.type === \"change\") {\n      const file = this.Input.current.files[0]\n      this.props.setAudio(file, file.name)\n    }\n  }\n\n  render() {\n    const audioPicker = (\n      <File getRef={this.Input} size=\"l\" mode=\"outline\" controlSize=\"l\" accept='.mp3' onChange={this.onInput}>\n        Загрузить файл\n      </File>\n    )\n    const viewPickedAudio = (\n      <Div style={{paddingTop: 0, PaddingBottom: 0}}>\n        <div className=\"AudioUploader__audioLine\">\n          <div className=\"AudioUploader__audioBox\">\n            <div className=\"AudioUploader__audioIcon\">\n              {/*TODO: подобрать цвет для темной темы*/}\n              <Icon28PodcastOutline fill=\"#99A2AD\" />\n            </div>\n            <div className=\"AudioUploader__audioTitle\">\n              {this.props.audio.name}\n            </div>\n          </div>\n          <div className=\"AudioUploader__audioClose\" onClick={this.props.clearAudio}>\n            <Icon24Cancel fill=\"var(--content_placeholder_text)\" />\n          </div>\n        </div>\n        <div className=\"AudioUploader__EditInfo\">\n          <p>Вы можете добавить таймкоды и скорректировать подкаст в режиме редактирования</p>\n          <Button\n            mode=\"outline\"\n            size=\"xl\"\n            onClick={() => {if (this.props.beforeLeave) {this.props.beforeLeave()}; this.props.setPage('podcast', 'edit')}}\n          >\n            Редактировать аудиозапись\n          </Button>\n        </div>\n      </Div>\n    )\n\n    return (\n      <div className=\"AudioUploader__placeholder\">\n        {\n          (!this.props.audio.file) &&\n          <Placeholder\n            header=\"Загрузите ваш подкаст\"\n            action={\n              audioPicker\n            }\n          >\n            Выберите готовый аудиофайл из вашего телефона и добавьте его\n          </Placeholder>\n        }\n        { !!this.props.audio.file && viewPickedAudio }\n      </div>\n    )\n  }\n}\n\nAudioUploader.propTypes = {\n  beforeLeave: PropTypes.func,\n};\n\nconst mapStateToProps = state => ({\n  audio: state.audio,\n})\n\nexport default connect(mapStateToProps, {openPopout, closePopout, setPage, setAudio, clearAudio})(AudioUploader)\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport {\n  Panel,\n  Button,\n  PanelHeader,\n  PanelHeaderBack,\n  Input,\n  Textarea,\n  FormLayout,\n  Separator,\n  Checkbox,\n  FormLayoutGroup,\n  Cell,\n  Group,\n  Div,\n  FixedLayout\n} from \"@vkontakte/vkui\";\n\nimport {\n  closePopout,\n  goBack,\n  openModal,\n  openPopout,\n  setPage,\n} from \"../../store/router/actions\";\nimport { setPodcastCover, setPodcastInfo } from '../../store/podcast/actions'\nimport { setAudio } from '../../store/audio/actions'\nimport ImageUploader from '../../components/ImageUploader'\nimport AudioUploader from '../../components/AudioUploader'\n\nclass PodcastCreate extends React.Component {\n  constructor(props, context) {\n    super(props, context)\n    this.onChange = this.onChange.bind(this)\n    this.onChangeCheckbox = this.onChangeCheckbox.bind(this)\n    this.submit = this.submit.bind(this)\n  }\n\n  filledFieldsKeys = [\"title\", \"description\"]\n  filledFields = Object.entries(this.props.podcast).reduce((i, kv) => {\n    const [k, v] = kv\n    if (this.filledFieldsKeys.includes(k)) {\n      i.push([k, !!v])\n    }\n    return i\n  }, [])\n  state = { ...this.props.podcast, filledFields: Object.fromEntries(this.filledFields) }\n\n  onChange(e) {\n    const { name, value } = e.currentTarget\n    this.setState({ [name]: value })\n    this.setState((state) => ({\n      filledFields: {...this.state.filledFields, [name]: value !== \"\"}\n    }))\n  }\n\n  onChangeCheckbox(e) {\n    this.setState({ [e.target.name]: e.target.checked })\n  }\n\n  submit() {\n    this.props.setPodcastInfo(\n      this.state.title, this.state.description, this.state.isExplicit, this.state.isExclude, this.state.isTrailer\n    )\n  }\n\n  render() {\n    const { id, setPage, goBack, openModal } = this.props;\n\n    return (\n      <Panel id={id}>\n        <PanelHeader left={<PanelHeaderBack onClick={() => goBack()} />}>\n          Новый подкаст\n        </PanelHeader>\n\n        <FormLayout style={{paddingBottom: 50}}>\n          <div style={{display: 'flex'}}>\n            <ImageUploader\n              style={{paddingLeft: 12}}\n              image={this.props.podcast.cover}\n              onSetImage={(cover) => {\n                this.props.setPodcastCover(cover)\n                this.setState((state) => ({\n                  ...state, cover,\n                  filledFields: {...state.filledFields, cover: !!cover}\n                }))\n              }}\n            />\n            <div style={{width: '100%'}}>\n              <div className=\"FormLayout__row-top\">\n                Название\n              </div>\n              <Input\n                top=\"Название\"\n                placeholder=\"Введите название подкаста\"\n                name=\"title\"\n                value={this.state.title}\n                onChange={this.onChange}\n              />\n            </div>\n          </div>\n\n          <Textarea\n            top=\"Описание подкаста\"\n            name=\"description\"\n            value={this.state.description}\n            onChange={this.onChange}\n          />\n          <FormLayoutGroup>\n            <AudioUploader beforeLeave={this.submit} />\n\n            <Separator wide />\n\n            <Checkbox\n              name=\"isExplicit\"\n              checked={this.state.isExplicit}\n              onChange={this.onChangeCheckbox}\n            >\n              Ненормативный контент\n            </Checkbox>\n            <Checkbox\n              name=\"isExclude\"\n              checked={this.state.isExclude}\n              onChange={this.onChangeCheckbox}\n            >\n              Исключить эпизод из экспорта\n            </Checkbox>\n            <Checkbox\n              name=\"isTrailer\"\n              checked={this.state.isTrailer}\n              onChange={this.onChangeCheckbox}\n            >\n              Трейлер подкаста\n            </Checkbox>\n          </FormLayoutGroup>\n\n          <Group description=\"При публикации записи с эпизодом, он становится доступным для всех пользователей\">\n            <Cell\n              expandable\n              size=\"m\"\n              description={this.props.available}\n              onClick={() => {openModal(\"PODCAST_SELECT_VIEW_MODE\")}}\n            >\n              Кому доступен данный подкаст\n            </Cell>\n          </Group>\n        </FormLayout>\n        <FixedLayout filled vertical=\"bottom\">\n          <Div>\n            <Button\n              size=\"xl\"\n              disabled={\n                Object.values(this.state.filledFields).filter((i) => {return i === true}).length < 2 || !this.props.file || !this.props.cover\n              }\n              onClick={() => {this.submit(); setPage(\"podcast\", \"preview\")}}\n            >\n              Далее\n            </Button>\n          </Div>\n        </FixedLayout>\n      </Panel>\n    );\n  }\n}\n\nconst mapStateToProps = state => ({\n  podcast: state.podcast,\n  available: state.podcast.available,\n  audio: state.audio,\n  file: state.audio.file,\n  cover: state.podcast.cover\n})\nconst mapDispatchToProps = {\n  setPage,\n  goBack,\n  openPopout,\n  closePopout,\n  openModal,\n  setPodcastCover,\n  setPodcastInfo,\n  setAudio\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PodcastCreate);\n","import {SET_PODCAST_INFO, SET_PODCAST_COVER, SET_AVAILABLE} from './actionTypes'\n\nexport const setPodcastCover = (cover) => ({\n  type: SET_PODCAST_COVER,\n  payload: {\n    cover: cover,\n  },\n});\n\nexport const setPodcastInfo = (title, description, isExplicit, isExclude, isTrailer) => ({\n  type: SET_PODCAST_INFO,\n  payload: {\n    title, description, isExplicit, isExclude, isTrailer\n  },\n});\n\nexport const setAvailable = (available) => ({\n  type: SET_AVAILABLE,\n  payload: {\n    available\n  },\n});\n","import React from 'react'\nimport {connect} from 'react-redux'\nimport {\n  Group,\n  Panel,\n  PanelHeader,\n  PanelHeaderBack,\n  Cell,\n  ModalPage,\n  ModalPageHeader,\n  IOS,\n  PanelHeaderButton, Div,\n} from '@vkontakte/vkui'\n\nimport {closePopout, goBack, openModal, openPopout, setPage} from '../../store/router/actions'\nimport {setAudio, setAvailable, setPodcastCover, setPodcastInfo} from '../../store/podcast/actions'\nimport Icon24Done from '@vkontakte/icons/dist/24/done'\nimport Icon24Cancel from '@vkontakte/icons/dist/24/cancel'\nimport Icon24Dismiss from '@vkontakte/icons/dist/24/dismiss'\n\n\nclass PodcastSelectViewMode extends React.Component {\n  constructor(props, context) {\n    super(props, context)\n    this.setParam = this.setParam.bind(this)\n  }\n\n  state = {\n    available: this.props.available\n  }\n\n  setParam(value) {\n    this.setState({ available: value })\n    this.props.setAvailable(value)\n    this.props.goBack()\n  }\n\n  render() {\n    const { id, onClose, platform } = this.props;\n\n    return (\n      <ModalPage\n        id={id}\n        header={\n          <ModalPageHeader\n            left={\n              platform !== IOS && (\n                <PanelHeaderButton onClick={onClose}>\n                  <Icon24Cancel />\n                </PanelHeaderButton>\n              )\n            }\n            right={\n              platform === IOS && (\n                <PanelHeaderButton onClick={onClose}>\n                  <Icon24Dismiss />\n                </PanelHeaderButton>\n              )\n            }\n          >\n            Кому доступен данный подкаст\n          </ModalPageHeader>\n        }\n        onClose={onClose}\n        settlingHeight={100}\n      >\n        <Div style={{padding: '0px', paddingBottom: 10}}>\n          <Cell\n            onClick={() => this.setParam('Всем пользователям')}\n            asideContent={this.state.available === 'Всем пользователям' ? <Icon24Done fill=\"var(--accent)\" /> : null}\n          >\n            Всем пользователям\n          </Cell>\n          <Cell\n            onClick={() => this.setParam('Только мне')}\n            asideContent={this.state.available === 'Только мне' ? <Icon24Done fill=\"var(--accent)\" /> : null}\n          >\n            Только мне\n          </Cell>\n          <Cell\n            onClick={() => this.setParam('Никому')}\n            asideContent={this.state.available === 'Никому' ? <Icon24Done fill=\"var(--accent)\" /> : null}\n          >\n            Никому\n          </Cell>\n        </Div>\n      </ModalPage>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  available: state.podcast.available,\n})\nconst mapDispatchToProps = {\n  goBack,\n  setAvailable\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PodcastSelectViewMode)\n","import React from 'react'\nimport {connect} from 'react-redux'\nimport {Panel, PanelHeaderBack, PanelHeader, Group, Div, Separator, Button, FixedLayout, Placeholder} from '@vkontakte/vkui'\nimport Icon16Play from '@vkontakte/icons/dist/16/play';\nimport Icon28HeadphonesOutline from '@vkontakte/icons/dist/28/headphones_outline';\n\nimport './PodcastPreview.css'\nimport {goBack, setPage} from '../../store/router/actions'\n\n\nclass PodcastPreview extends React.Component {\n  state = {\n    podcast: this.props.podcast,\n    audio: this.props.audio,\n  }\n\n  render() {\n    const {id, goBack, setPage} = this.props\n    const timecodes = this.props.timecodes.map((el, key) => {\n      return (\n        <div className=\"Preview__timecodeLine\">\n          <a href=\"#\">{el.time}</a> — {el.title}\n        </div>\n      )\n    })\n    return (\n      <Panel id={id}>\n        <PanelHeader left={<PanelHeaderBack onClick={() => goBack()} />}>\n          Новый подкаст\n        </PanelHeader>\n\n        <Div style={{paddingTop: 15, paddingBottom: 64}}>\n          <Group separator=\"hide\">\n            <div className=\"Preview__snippet\">\n              <div className=\"Preview__snippet__cover\" style={{backgroundImage: `url(${this.state.podcast.cover})`}}>\n                <div className=\"Preview__snippet__cover__icon\">\n                  <Icon16Play fill=\"#fff\"/>\n                </div>\n              </div>\n              <div className=\"Preview__snippet__info\">\n                <div className=\"Preview__snippet__info__title\">\n                  {this.state.podcast.title}\n                </div>\n                <div className=\"Preview__snippet__info__group\"><a href=\"#\">Сообщество “ПараDogs”</a></div>\n                <div className=\"Preview__snippet__info__duration\">\n                  Длительность: {this.state.audio.duration}\n                </div>\n              </div>\n            </div>\n            <Separator style={{margin: \"15px 0\"}}/>\n          </Group>\n          <Group separator=\"hide\">\n            <div className=\"Preview__description\">\n              <h4 className=\"Preview__sectionTitle\">Описание:</h4>\n              <p>{this.state.podcast.description}</p>\n            </div>\n            <Separator style={{margin: \"15px 0\"}}/>\n          </Group>\n          <Group separator=\"hide\">\n            <div className=\"Preview__description\">\n              <h4 className=\"Preview__sectionTitle\">Таймкоды:</h4>\n              {\n                this.props.timecodes.length === 0\n                  ? <Placeholder\n                      icon={<Icon28HeadphonesOutline width={48} height={48} />}\n                      header=\"Таймкоды не размечены\"\n                    >\n                      Вернитесь к редактированию аудио, чтобы добавить таймкоды к подкасту\n                    </Placeholder>\n                  : timecodes\n              }\n            </div>\n          </Group>\n        </Div>\n        <FixedLayout filled vertical=\"bottom\">\n          <Div>\n            <Button\n              size=\"xl\"\n              onClick={() => {setPage('podcast', 'added')}}\n            >\n              Опубликовать подкаст\n            </Button>\n          </Div>\n        </FixedLayout>\n      </Panel>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  podcast: state.podcast,\n  audio: state.audio,\n  timecodes: state.timecode,\n})\n\nexport default connect(mapStateToProps, {goBack, setPage})(PodcastPreview)\n","import React from \"react\";\nimport {Panel, Placeholder, Button, PanelHeader, PanelHeaderBack} from '@vkontakte/vkui'\nimport Icon56CheckCircleOutline from \"@vkontakte/icons/dist/56/check_circle_outline\";\n\nclass PodcastAdded extends React.Component {\n  render() {\n    const { id } = this.props;\n\n    return (\n      <Panel id={id} centered>\n        <PanelHeader>\n          Подкасты\n        </PanelHeader>\n        <Placeholder\n          icon={<Icon56CheckCircleOutline fill=\"var(--accent)\" />}\n          header=\"Подкаст добавлен\"\n          action={<Button size=\"l\">Поделиться подкастом</Button>}\n        >\n          Раскажите своим подписчикам о новом подкасте, чтобы получить больше слушателей.\n        </Placeholder>\n      </Panel>\n    );\n  }\n}\n\nexport default PodcastAdded;\n","export const secToDuration = (sec) => {\n  let dur = new Date(sec * 1000).toISOString().substr(11, 8)\n  if (dur.startsWith(\"00:\")) {\n    dur = dur.slice(3)\n  }\n  return dur\n}","import React from 'react'\nimport {connect} from 'react-redux'\nimport {\n  Panel,\n  PanelHeader,\n  PanelHeaderBack,\n  Div,\n  Group,\n  Header,\n  Input,\n  Button,\n  FixedLayout,\n  ScreenSpinner,\n} from '@vkontakte/vkui'\nimport WaveSurfer from 'wavesurfer.js'\nimport Timeline from 'wavesurfer.js/dist/plugin/wavesurfer.timeline'\nimport Region from 'wavesurfer.js/dist/plugin/wavesurfer.regions'\nimport Icon28Play from '@vkontakte/icons/dist/28/play';\nimport Icon28Pause from '@vkontakte/icons/dist/28/pause';\nimport debounce from 'lodash/debounce'\n\n\nimport {closePopout, goBack, openPopout, setPage} from '../../store/router/actions'\nimport './PodcastEdit.css'\nimport CellButton from '@vkontakte/vkui/dist/components/CellButton/CellButton'\nimport Icon24Add from '@vkontakte/icons/dist/24/add'\nimport Icon24Cancel from '@vkontakte/icons/dist/24/cancel'\nimport {secToDuration} from '../../utils'\nimport {setTimecodes, sortTimecodes} from '../../store/timecode/actions'\nimport {clearFadeIn, clearFadeOut, setFadeIn, setFadeOut} from '../../store/effects/actions'\nimport {setAudioDuration} from '../../store/audio/actions'\n\n\nclass PodcastEdit extends React.Component {\n  constructor(props, context) {\n    super(props, context)\n    this.waveformRef = React.createRef()\n    this.togglePlay = this.togglePlay.bind(this)\n    this.createFadeInRegion = this.createFadeInRegion.bind(this)\n    this.createFadeOutRegion = this.createFadeOutRegion.bind(this)\n    this.applyFilters = this.applyFilters.bind(this)\n  }\n\n  state = {\n    podcast: this.props.podcast,\n    audio: this.props.audio,\n    play: false,\n    isFadeInRegionCreated: !!this.props.effects.fadeIn,\n    isFadeOutRegionCreated: !!this.props.effects.fadeOut,\n    effects: {...this.props.effects},\n    timecodes: [...this.props.timecodes],\n  }\n\n  componentDidMount() {\n    this.props.openPopout(<ScreenSpinner/>)\n\n    this.waveform = WaveSurfer.create({\n      container: this.waveformRef.current,\n      waveColor: '#3F8AE0',\n      progressColor: '#3F8AE0',\n      cursorColor: '#FF3347',\n      barWidth: 2,\n      barRadius: 3,\n      cursorWidth: 1,\n      height: 96,\n      barGap: 4,\n      plugins: [\n        Timeline.create({\n          container: \"#timeline\",\n          height: 9,\n          primaryColor: '#99A2AD',\n          secondaryColor: '#99A2AD',\n          primaryFontColor: '#99A2AD',\n          secondaryFontColor: '#99A2AD',\n          notchPercentHeight: 100,\n          formatTimeCallback: secToDuration\n        }),\n        Region.create(),\n      ]\n    });\n\n    this.waveform.on('error', function(e) {\n      console.warn(e);\n    });\n\n    this.waveform.loadBlob(this.state.audio.file);\n\n    this.waveform.on(\"ready\", () => {\n      this.waveform.zoom(30)\n      this.props.closePopout()\n      this.props.setAudioDuration(secToDuration(this.waveform.getDuration()))\n    });\n    this.waveform.on(\"play\", () => {\n      this.setState({ play: true })\n    });\n    this.waveform.on(\"pause\", () => {\n      this.setState({ play: false })\n    });\n    this.waveform.on('audioprocess', this.applyFilters)\n    const debounceSetFilterRegions = debounce((data) => {\n      const start = Math.max(0, data.start)\n      const end = Math.min(data.end, this.waveform.backend.buffer.duration)\n      this.setState((state) => ({\n        effects: {\n          ...state.effects,\n          [data.id]: {\n            start: start,\n            end: end\n          }\n        }\n      }))\n      if (data.id === 'fadeIn') {\n        this.props.setFadeIn(start, end)\n      }\n      if (data.id === 'fadeOut') {\n        this.props.setFadeOut(start, end)\n      }\n    }, 500)\n    this.waveform.on('region-updated', debounceSetFilterRegions)\n    this.waveform.on('region-click', (e) => {\n      this.waveform.regions.list[e.id].play()\n    })\n\n    if (this.state.effects.fadeIn) {\n      this.waveform.addRegion({\n        id: 'fadeIn',\n        start: this.state.effects.fadeIn.start,\n        end: this.state.effects.fadeIn.end,\n        drag: false,\n        minLength: 1,\n        maxLength: 60\n      })\n    }\n    if (this.state.effects.fadeOut) {\n      this.waveform.addRegion({\n        id: 'fadeOut',\n        start: this.state.effects.fadeOut.start,\n        end: this.state.effects.fadeOut.end,\n        drag: false,\n        minLength: 1,\n        maxLength: 60\n      })\n    }\n  };\n\n  componentWillUnmount() {\n    this.waveform.destroy()\n  }\n\n  togglePlay() {\n    this.waveform.playPause()\n  }\n\n  isValueInRegion(value, start, end) {\n    return value >= start && value <= end\n  }\n\n  applyFilters(currentTime) {\n    const fadeInTimeRage = this.state.effects.fadeIn ? [this.state.effects.fadeIn.start, this.state.effects.fadeIn.end] : null\n    const fadeOutTimeRage = this.state.effects.fadeOut ? [this.state.effects.fadeOut.start, this.state.effects.fadeOut.end] : null\n\n    if (fadeInTimeRage) {\n      if (this.isValueInRegion(currentTime, fadeInTimeRage[0], fadeInTimeRage[1])) {\n        this.waveform.backend.gainNode.gain.value = currentTime / fadeInTimeRage[1]\n        return\n      }\n    }\n\n    if (fadeOutTimeRage) {\n      if (this.isValueInRegion(currentTime, fadeOutTimeRage[0], fadeOutTimeRage[1])) {\n        this.waveform.backend.gainNode.gain.value = 1 - ((currentTime - fadeOutTimeRage[0]) / (fadeOutTimeRage[1] - fadeOutTimeRage[0]))\n        return\n      }\n    }\n\n    this.waveform.backend.gainNode.gain.value = 1\n  }\n\n  createFadeInRegion() {\n    if (!this.state.isFadeInRegionCreated) {\n      this.waveform.addRegion({\n        id: 'fadeIn',\n        start: 0,\n        end: 5,\n        drag: false,\n        minLength: 1,\n        maxLength: 60\n      })\n      this.setState({isFadeInRegionCreated: true})\n      this.setState((state) => ({\n        effects: {\n          ...state.effects,\n          fadeIn: {\n            start: 0,\n            end: 5\n          }\n        }\n      }))\n      this.props.setFadeIn(0, 5)\n      this.waveform.seekTo(0)\n      this.waveform.zoom(30)\n    } else {\n      this.waveform.regions.list[\"fadeIn\"].remove()\n      this.setState({isFadeInRegionCreated: false})\n      this.setState((state) => ({\n        effects: {\n          ...state.effects,\n          fadeIn: null\n        }\n      }))\n      this.props.clearFadeIn(null)\n    }\n  }\n\n  createFadeOutRegion() {\n    if (!this.state.isFadeOutRegionCreated) {\n      this.waveform.addRegion({\n        id: 'fadeOut',\n        start: this.waveform.backend.buffer.duration - 5,\n        end: this.waveform.backend.buffer.duration,\n        drag: false,\n        minLength: 1,\n        maxLength: 60\n      })\n      this.setState({isFadeOutRegionCreated: true})\n      this.setState((state) => ({\n        effects: {\n          ...state.effects,\n          fadeOut: {\n            start: this.waveform.backend.buffer.duration - 1,\n            end: this.waveform.backend.buffer.duration\n          }\n        }\n      }))\n      this.props.setFadeOut(this.waveform.backend.buffer.duration - 1, 0)\n      this.waveform.seekTo(1)\n      this.waveform.zoom(30)\n    } else {\n      this.waveform.regions.list[\"fadeOut\"].remove()\n      this.setState({isFadeOutRegionCreated: false})\n      this.setState((state) => ({\n        effects: {\n          ...state.effects,\n          fadeOut: null\n        }\n      }))\n      this.props.clearFadeOut(null)\n    }\n  }\n\n  render() {\n    const {id, goBack, setPage} = this.props\n\n    const timecodes = this.state.timecodes.map((el, index) => {\n      return (\n        <div className=\"TimecodeLine\" key={index}>\n          <div className=\"timecodeDescrition\">\n            <Input name=\"metka\" placeholder=\"Название метки\" value={el.title} onChange={(e) => {\n              const value = e.currentTarget.value\n              let newState = [...this.state.timecodes]\n              newState[index] = {...newState[index], title: value}\n              this.setState({timecodes: newState})\n            }} />\n          </div>\n          <div className=\"timecodeTime\">\n            <Input name=\"time\" pattern=\"[0-9:]*\" placeholder=\"00:00\" value={el.time} onChange={(e) => {\n              if (e.currentTarget.value.length > 8) {\n                return\n              }\n              if (e.target.validity.valid) {\n                const value = e.currentTarget.value\n                let newState = [...this.state.timecodes]\n                newState[index] = {...newState[index], time: value}\n                this.setState({timecodes: newState})\n              }\n            }} />\n          </div>\n          <div\n            className=\"timecodeDelete\"\n            onClick={\n              () => this.setState({ timecodes: this.state.timecodes.filter((_ ,i) => i !== index) })\n            }\n          >\n            <Icon24Cancel fill=\"var(--content_placeholder_text)\" />\n          </div>\n        </div>\n      )\n    })\n\n    return (\n      <Panel id={id}>\n        <PanelHeader left={<PanelHeaderBack onClick={() => {this.props.setTimecodes(this.state.timecodes); this.props.sortTimecodes(); goBack()}} />}>\n          Редактирование\n        </PanelHeader>\n        <div>\n          <Div>\n            <div className=\"AudioEditor\">\n              <div id=\"timeline\" />\n              <div id=\"waveform\" ref={this.waveformRef} />\n              <div className=\"AudioEditor__controls\">\n                <div className=\"AudioEditor__controls__group\">\n                  <div className=\"AudioEditor__controls__play\" onClick={this.togglePlay}>\n                    {this.state.play\n                      ? <Icon28Pause fill=\"#fff\"/>\n                      : <Icon28Play fill=\"#fff\" />\n                    }\n                  </div>\n                </div>\n                <div className=\"AudioEditor__controls__group\">\n                  <div\n                    className={\n                      `AudioEditor__controls__secondary AudioEditor__controls__fadeIn \n                  ${this.state.isFadeInRegionCreated ? \"AudioEditor__controls__secondary--active\" : \"\"}`\n                    }\n                    onClick={this.createFadeInRegion}\n                  >\n                    <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                      <path d=\"M12 20V10\" stroke=\"#3F8AE0\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n                      <path d=\"M18 20V4\" stroke=\"#3F8AE0\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n                      <path d=\"M6 20V16\" stroke=\"#3F8AE0\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n                    </svg>\n                  </div>\n                  <div\n                    className={\n                      `AudioEditor__controls__secondary AudioEditor__controls__fadeOut \n                  ${this.state.isFadeOutRegionCreated ? \"AudioEditor__controls__secondary--active\" : \"\"}`\n                    }\n                    onClick={this.createFadeOutRegion}\n                  >\n                    <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n                      <path d=\"M12 20V10\" stroke=\"#3F8AE0\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n                      <path d=\"M6 20V4\" stroke=\"#3F8AE0\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n                      <path d=\"M18 20V16\" stroke=\"#3F8AE0\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/>\n                    </svg>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </Div>\n          <Group header={<Header mode=\"secondary\">Таймкоды</Header>} style={{paddingBottom: 75}}>\n            <Div style={{paddingTop: 0, paddingBottom: 0}}>\n              {timecodes}\n            </Div>\n            <CellButton before={<Icon24Add />} onClick={() => {\n              let newState = [...this.state.timecodes]\n              newState.push({title: '', time: secToDuration(this.waveform.getCurrentTime())})\n              this.setState({ timecodes: newState })\n            }}>Добавить таймкод</CellButton>\n            <Div style={{paddingTop: 0, paddingBottom: 0}}>\n              <p style={{margin: 0, marginTop: 5, fontSize: 13, color: 'var(--text_secondary)'}}>\n                Отметки времени с названием темы. Позволяют слушателям легче путешествовать по подкасту.\n              </p>\n            </Div>\n          </Group>\n          <FixedLayout filled vertical=\"bottom\">\n            <Div>\n              <Button\n                size=\"xl\"\n                disabled={\n                  this.state.timecodes.filter((el) => {\n                    return el.title === \"\" || el.title === \"\"\n                  }).length > 0\n                }\n                onClick={() => {this.props.setTimecodes(this.state.timecodes); this.props.sortTimecodes(); goBack()}}\n              >\n                Далее\n              </Button>\n            </Div>\n          </FixedLayout>\n        </div>\n      </Panel>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  podcast: state.podcast,\n  audio: state.audio,\n  timecodes: state.timecode,\n  effects: state.effects,\n})\n\nexport default connect(mapStateToProps, {goBack, setPage, setTimecodes, openPopout, closePopout, setFadeIn, setFadeOut, clearFadeIn, clearFadeOut, setAudioDuration, sortTimecodes})(PodcastEdit)\n","import {SET_TIMECODE, SORT_TIMECODES} from './actionTypes'\n\nexport const setTimecodes = (arr) => ({\n  type: SET_TIMECODE,\n  payload: arr,\n});\n\nexport const sortTimecodes = () => ({\n  type: SORT_TIMECODES,\n  payload: null,\n});\n","import {SET_FADE_OUT, SET_FADE_IN, CLEAR_FADE_IN, CLEAR_FADE_OUT} from './actionTypes'\n\nexport const setFadeOut = (start, end) => ({\n  type: SET_FADE_OUT,\n  payload: {\n    start, end\n  },\n});\n\nexport const setFadeIn = (start, end) => ({\n  type: SET_FADE_IN,\n  payload: {\n    start, end\n  },\n});\n\nexport const clearFadeIn = () => ({\n  type: CLEAR_FADE_IN,\n  payload: null,\n});\n\nexport const clearFadeOut = () => ({\n  type: CLEAR_FADE_OUT,\n  payload: null,\n});\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { goBack, closeModal } from \"./js/store/router/actions\";\nimport { getActivePanel } from \"./js/services/_functions\";\nimport * as VK from \"./js/services/VK\";\n\nimport { View, Root, ModalRoot, ConfigProvider } from \"@vkontakte/vkui\";\n\nimport HomePanel from \"./js/panels/Home\";\nimport { PodcastCreate } from \"./js/panels/podcasts\";\nimport PodcastSelectViewMode from './js/panels/podcasts/PodcastSelectViewMode'\nimport PodcastPreview from './js/panels/podcasts/PodcastPreview'\nimport PodcastAdded from './js/panels/podcasts/PodcastAdded'\nimport PodcastEdit from './js/panels/podcasts/PodcastEdit'\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.lastAndroidBackAction = 0;\n  }\n\n  componentDidMount() {\n    const { goBack, dispatch } = this.props;\n\n    dispatch(VK.initApp());\n\n    window.onpopstate = () => {\n      let timeNow = +new Date();\n\n      if (timeNow - this.lastAndroidBackAction > 500) {\n        this.lastAndroidBackAction = timeNow;\n\n        goBack();\n      } else {\n        window.history.pushState(null, null);\n      }\n    };\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    const { activeView, activeStory, activePanel, scrollPosition } = this.props;\n\n    if (\n      prevProps.activeView !== activeView ||\n      prevProps.activePanel !== activePanel ||\n      prevProps.activeStory !== activeStory\n    ) {\n      let pageScrollPosition =\n        scrollPosition[activeStory + \"_\" + activeView + \"_\" + activePanel] || 0;\n\n      window.scroll(0, pageScrollPosition);\n    }\n  }\n\n  render() {\n    const {\n      goBack,\n      closeModal,\n      popouts,\n      activeView,\n      activeModals,\n      panelsHistory,\n      colorScheme,\n    } = this.props;\n\n    let history =\n      panelsHistory[activeView] === undefined\n        ? [activeView]\n        : panelsHistory[activeView];\n    let popout = popouts[activeView] === undefined ? null : popouts[activeView];\n    let activeModal =\n      activeModals[activeView] === undefined ? null : activeModals[activeView];\n\n    const podcastModals = (\n        <ModalRoot activeModal={activeModal}>\n          <PodcastSelectViewMode id=\"PODCAST_SELECT_VIEW_MODE\" onClose={() => closeModal()} />\n        </ModalRoot>\n    );\n\n    return (\n      <ConfigProvider isWebView={true} scheme={colorScheme}>\n        <Root activeView={activeView} popout={popout}>\n          <View\n            id=\"home\"\n            activePanel={getActivePanel(\"home\")}\n            history={history}\n            onSwipeBack={() => goBack()}\n          >\n            <HomePanel id=\"base\" />\n          </View>\n\n          <View\n            id=\"podcast\"\n            activePanel={getActivePanel(\"podcast\")}\n            history={history}\n            onSwipeBack={() => goBack()}\n            modal={podcastModals}\n          >\n            <PodcastCreate id=\"create\" />\n            <PodcastPreview id=\"preview\" />\n            <PodcastAdded id=\"added\" />\n            <PodcastEdit id=\"edit\" />\n          </View>\n        </Root>\n      </ConfigProvider>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    activeView: state.router.activeView,\n    activeStory: state.router.activeStory,\n    panelsHistory: state.router.panelsHistory,\n    activeModals: state.router.activeModals,\n    popouts: state.router.popouts,\n    scrollPosition: state.router.scrollPosition,\n\n    colorScheme: state.vkui.colorScheme,\n  };\n};\n\nfunction mapDispatchToProps(dispatch) {\n  return {\n    dispatch,\n    ...bindActionCreators({ goBack, closeModal }, dispatch),\n  };\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","import {\n  SET_COLOR_SCHEME,\n  SET_ACTIVE_TAB,\n  SET_SCROLL_POSITION,\n  SET_SCROLL_POSITION_BY_ID,\n} from \"./actionTypes\";\n\nexport const setColorScheme = (scheme) => ({\n  type: SET_COLOR_SCHEME,\n  payload: scheme,\n});\n\nexport const setActiveTab = (component, tab) => ({\n  type: SET_ACTIVE_TAB,\n  payload: {\n    component,\n    tab,\n  },\n});\n\nexport const setScrollPosition = (component, x = 0, y = 0) => ({\n  type: SET_SCROLL_POSITION,\n  payload: {\n    component,\n    x,\n    y,\n  },\n});\n\nexport const setScrollPositionByID = (component) => ({\n  type: SET_SCROLL_POSITION_BY_ID,\n  payload: {\n    component,\n  },\n});\n","import \"core-js/es6/map\";\nimport \"core-js/es6/set\";\n\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport { applyMiddleware, createStore } from \"redux\";\nimport thunk from \"redux-thunk\";\nimport { Provider } from \"react-redux\";\nimport rootReducer from \"./js/store/reducers\";\nimport { composeWithDevTools } from \"redux-devtools-extension\";\n\nimport { setStory } from \"./js/store/router/actions\";\n\nimport \"@vkontakte/vkui/dist/vkui.css\";\nimport \"./css/main.css\";\n\nimport App from \"./App\";\n\n// const persistedState = localStorage.getItem(\"reduxState\")\n//   ? JSON.parse(localStorage.getItem(\"reduxState\"))\n//   : {};\n\nexport const store = createStore(\n  rootReducer,\n  composeWithDevTools(applyMiddleware(thunk))\n);\n\n// store.subscribe(() => {\n//   localStorage.setItem(\"reduxState\", JSON.stringify(store.getState()));\n// });\nstore.dispatch(setStory('home', 'base'));\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}