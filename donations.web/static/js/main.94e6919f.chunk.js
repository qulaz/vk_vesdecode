(this["webpackJsonpdonations.web"]=this["webpackJsonpdonations.web"]||[]).push([[0],{123:function(e,t,a){},134:function(e,t,a){e.exports=a.p+"static/media/postIconIos.1a1cb2d5.svg"},135:function(e,t){e.exports="data:image/png;base64,"},208:function(e,t,a){e.exports=a(316)},310:function(e,t,a){},311:function(e,t,a){},312:function(e,t,a){},314:function(e,t,a){},315:function(e,t,a){},316:function(e,t,a){"use strict";a.r(t);a(209),a(235),a(237),a(238),a(240),a(241),a(242),a(243),a(244),a(245),a(246),a(247),a(249),a(250),a(251),a(252),a(253),a(254),a(255),a(256),a(257),a(258),a(260),a(261),a(262),a(263),a(264),a(265),a(266),a(267),a(268),a(269),a(270),a(271),a(272),a(273),a(274),a(275),a(276),a(277);var n=a(0),o=a.n(n),r=a(63),l=a.n(r),i=a(34),s=a.n(i),c=a(89),u=a(12),p=a(13),m=a(15),d=a(14),h=a(152),E=a.n(h),g=a(1),b=(a(295),a(27)),v=a(65),f=a.n(v),_=a(66),O=a.n(_),y=a(126),j=a.n(y),C=a(40),D=a.n(C),k=a(128),S=a.n(k),w=a(129),I=a.n(w),N=a(41),T=a.n(N),x=a(87),P=a.n(x),F=a(127),V=a.n(F),A=Object(g.y)(),B=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){return o.a.createElement(f.a,{id:this.props.id,centered:!0},o.a.createElement(O.a,{left:o.a.createElement(j.a,{onClick:this.props.go,"data-to":"home"},A===g.i?o.a.createElement(D.a,null):o.a.createElement(T.a,null))},"\u0422\u0438\u043f \u0441\u0431\u043e\u0440\u0430"),o.a.createElement(V.a,null,o.a.createElement(P.a,{before:o.a.createElement(S.a,{fill:"#3F8AE0"}),header:"\u0426\u0435\u043b\u0435\u0432\u043e\u0439 \u0441\u0431\u043e\u0440",subheader:"\u041a\u043e\u0433\u0434\u0430 \u0435\u0441\u0442\u044c \u043e\u0431\u0440\u0435\u0434\u0435\u043b\u0451\u043d\u043d\u0430\u044f \u0446\u0435\u043b\u044c",asideMode:"expand",onClick:this.props.go,"data-to":"goal_donation"}),o.a.createElement(P.a,{before:o.a.createElement(I.a,{fill:"#3F8AE0"}),header:"\u0420\u0435\u0433\u0443\u043b\u044f\u0440\u043d\u044b\u0439 \u0441\u0431\u043e\u0440",subheader:"\u0415\u0441\u043b\u0438 \u043f\u043e\u043c\u043e\u0449\u044c \u043d\u0443\u0436\u043d\u0430 \u0435\u0436\u0435\u043c\u0435\u0441\u044f\u0447\u043d\u043e",asideMode:"expand",onClick:this.props.go,"data-to":"regular_donation"})))}}]),a}(o.a.Component),R=a(45),M=a(9),G=a(67),K=a(37),L=a(130),z=a.n(L),H=a(131),q=a.n(H);a(310);function J(e){return{type:"SET_GENERAL_FIELDS",value:{type:e.type,title:e.title,sum:e.sum,goal:e.goal,description:e.description,billID:e.billID}}}function U(e){return{type:"SET_AUTHOR",value:e}}var W=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).photoInput=o.a.createRef(),n.onInput=n.onInput.bind(Object(K.a)(n)),n}return Object(p.a)(a,[{key:"selectPhoto",value:function(){var e=this,t=new FileReader;t.onload=function(t){e.props.setPhoto(t.target.result)},t.readAsDataURL(this.photoInput.current.files[0])}},{key:"onInput",value:function(e){"input"===e.type&&(console.log("sd"),this.selectPhoto())}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"PhotoHolder"},null===this.props.photoPath&&o.a.createElement("label",{className:"PhotoHolder PhotoHolder__label"},o.a.createElement("input",{ref:this.photoInput,type:"file",accept:"image/*",multiple:!0,onInput:this.onInput})),!this.props.photoPath&&o.a.createElement("div",{className:"wrapper"},o.a.createElement(z.a,{fill:"#3F8AE0"}),o.a.createElement("p",null,"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u043e\u0431\u043b\u043e\u0436\u043a\u0443")),this.props.photoPath&&o.a.createElement("div",{className:"ImgContainer",style:{backgroundImage:"url(".concat(this.props.photoPath,")")}},o.a.createElement("div",{className:"close",onClick:function(){e.setState({photoPath:null}),e.props.setPhoto(null)}},o.a.createElement(q.a,null))))}}]),a}(o.a.Component),X=Object(b.b)((function(e){return{photoPath:e.donations.currentDonut.photo}}),{setPhoto:function(e){return{type:"SET_PHOTO",value:e}}})(W),Y=(a(123),function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).stickyFooter=o.a.createRef(),e.state={height:0},e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){this.stickyFooter.current&&this.setState({height:this.stickyFooter.current.clientHeight})}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("div",{className:"StickyFooter",ref:this.stickyFooter},o.a.createElement("div",{className:"wrapper",style:{margin:this.props.margin}},this.props.children)),o.a.createElement("div",{style:{height:this.state.height}}))}}]),a}(o.a.Component));Y.defaultProps={margin:12};var Q=Y,Z=Object(g.y)(),$=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).filledFieldsKeys=["title","sum","goal","description","billID"],n.filledFields=Object.entries(n.props.current).reduce((function(e,t){var a=Object(G.a)(t,2),o=a[0],r=a[1];return n.filledFieldsKeys.includes(o)&&e.push([o,!!r]),e}),[]),n.state=Object(M.a)(Object(M.a)({},n.props.current),{},{filledFields:Object.fromEntries(n.filledFields)}),n.onChange=n.onChange.bind(Object(K.a)(n)),n.submit=n.submit.bind(Object(K.a)(n)),n}return Object(p.a)(a,[{key:"onChange",value:function(e){var t=e.currentTarget,a=t.name,n=t.value;this.setState(Object(R.a)({},a,n)),this.setState({filledFields:Object(M.a)(Object(M.a)({},this.state.filledFields),{},Object(R.a)({},a,""!==n))})}},{key:"submit",value:function(){this.props.setAuthor(this.state.authorID),this.props.setGeneralFields({type:"goal",title:this.state.title,sum:this.state.sum,billID:this.state.billID,description:this.state.description,goal:this.state.goal})}},{key:"render",value:function(){var e=this,t=this.props.bills.map((function(e){return o.a.createElement("option",{value:e.id.toString(),key:e.id},e.title)}));return o.a.createElement(g.k,{id:this.props.id},o.a.createElement(g.l,{left:o.a.createElement(g.m,{onClick:this.props.go,"data-to":"donation_type"},Z===g.i?o.a.createElement(D.a,null):o.a.createElement(T.a,null))},"\u0426\u0435\u043b\u0435\u0432\u043e\u0439 \u0441\u0431\u043e\u0440"),o.a.createElement(g.e,null,o.a.createElement(X,null)),o.a.createElement(g.g,null,o.a.createElement(g.j,{type:"text",top:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0441\u0431\u043e\u0440\u0430",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0441\u0431\u043e\u0440\u0430",name:"title",value:this.state.title,onChange:this.onChange}),o.a.createElement(g.j,{type:"text",pattern:"[0-9]*",top:"\u0421\u0443\u043c\u043c\u0430, \u20bd",placeholder:"\u0421\u043a\u043e\u043b\u044c\u043a\u043e \u043d\u0443\u0436\u043d\u043e \u0441\u043e\u0431\u0440\u0430\u0442\u044c?",name:"sum",value:this.state.sum,onChange:function(t){t.target.validity.valid&&e.onChange(t)}}),o.a.createElement(g.j,{type:"text",top:"\u0426\u0435\u043b\u044c",placeholder:"\u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u043b\u0435\u0447\u0435\u043d\u0438\u0435 \u0447\u0435\u043b\u043e\u0432\u0435\u043a\u0430",name:"goal",value:this.state.goal,onChange:this.onChange}),o.a.createElement(g.w,{top:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",placeholder:"\u041d\u0430 \u0447\u0442\u043e \u043f\u043e\u0439\u0434\u0443\u0442 \u0434\u0435\u043d\u044c\u0433\u0438 \u0438 \u043a\u0430\u043a \u043e\u043d\u0438 \u043a\u043e\u043c\u0443-\u0442\u043e \u043f\u043e\u043c\u043e\u0433\u0443\u0442?",name:"description",value:this.state.description,onChange:this.onChange}),o.a.createElement(g.q,{top:"\u041a\u0443\u0434\u0430 \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u044c \u0434\u0435\u043d\u044c\u0433\u0438",defaultValue:this.props.current.billID.toString(),name:"billID",value:this.state.billID,onChange:this.onChange},t)),o.a.createElement(Q,null,o.a.createElement(g.b,{size:"xl",disabled:5!==Object.values(this.state.filledFields).filter((function(e){return!0===e})).length||null===this.props.photo,onClick:function(t){e.submit(),e.props.go(t)},"data-to":"goal_donation_additional"},"\u0414\u0430\u043b\u0435\u0435")))}}]),a}(o.a.Component),ee=Object(b.b)((function(e){return{bills:e.donations.bills,authors:e.donations.authors,current:e.donations.currentDonut,photo:e.donations.currentDonut.photo}}),{setAuthor:U,setGeneralFields:J})($),te=Object(g.y)(),ae=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).filledFieldsKeys=["title","sum","goal","description","billID"],n.filledFields=Object.entries(n.props.current).reduce((function(e,t){var a=Object(G.a)(t,2),o=a[0],r=a[1];return n.filledFieldsKeys.includes(o)&&e.push([o,!!r]),e}),[]),n.state=Object(M.a)(Object(M.a)({},n.props.current),{},{filledFields:Object.fromEntries(n.filledFields)}),n.onChange=n.onChange.bind(Object(K.a)(n)),n.submit=n.submit.bind(Object(K.a)(n)),n}return Object(p.a)(a,[{key:"onChange",value:function(e){var t=e.currentTarget,a=t.name,n=t.value;this.setState(Object(R.a)({},a,n)),this.setState({filledFields:Object(M.a)(Object(M.a)({},this.state.filledFields),{},Object(R.a)({},a,""!==n))})}},{key:"submit",value:function(){this.props.setAuthor(this.state.authorID),this.props.setGeneralFields({type:"regular",title:this.state.title,sum:this.state.sum,billID:this.state.billID,description:this.state.description,goal:this.state.goal})}},{key:"render",value:function(){var e=this,t=this.props.bills.map((function(e){return o.a.createElement("option",{value:e.id.toString(),key:e.id},e.title)})),a=this.props.authors.map((function(e){return o.a.createElement("option",{value:e.id.toString(),key:e.id},e.name)}));return o.a.createElement(g.k,{id:this.props.id},o.a.createElement(g.l,{left:o.a.createElement(g.m,{onClick:this.props.go,"data-to":"donation_type"},te===g.i?o.a.createElement(D.a,null):o.a.createElement(T.a,null))},"\u0420\u0435\u0433\u0443\u043b\u044f\u0440\u043d\u044b\u0439 \u0441\u0431\u043e\u0440"),o.a.createElement(g.e,null,o.a.createElement(X,null)),o.a.createElement(g.g,null,o.a.createElement(g.j,{type:"text",top:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0441\u0431\u043e\u0440\u0430",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0441\u0431\u043e\u0440\u0430",name:"title",value:this.state.title,onChange:this.onChange}),o.a.createElement(g.j,{type:"text",pattern:"[0-9]*",top:"\u0421\u0443\u043c\u043c\u0430 \u0432 \u043c\u0435\u0441\u044f\u0446, \u20bd",placeholder:"\u0421\u043a\u043e\u043b\u044c\u043a\u043e \u043d\u0443\u0436\u043d\u043e \u0432 \u043c\u0435\u0441\u044f\u0446?",name:"sum",value:this.state.sum,onChange:function(t){t.target.validity.valid&&e.onChange(t)}}),o.a.createElement(g.j,{type:"text",top:"\u0426\u0435\u043b\u044c",placeholder:"\u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 \u043f\u0440\u0438\u044e\u0442\u0430",name:"goal",value:this.state.goal,onChange:this.onChange}),o.a.createElement(g.w,{top:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",placeholder:"\u041d\u0430 \u0447\u0442\u043e \u043f\u043e\u0439\u0434\u0443\u0442 \u0434\u0435\u043d\u044c\u0433\u0438 \u0438 \u043a\u0430\u043a \u043e\u043d\u0438 \u043a\u043e\u043c\u0443-\u0442\u043e \u043f\u043e\u043c\u043e\u0433\u0443\u0442?",name:"description",value:this.state.description,onChange:this.onChange}),o.a.createElement(g.q,{top:"\u041a\u0443\u0434\u0430 \u043f\u043e\u043b\u0443\u0447\u0430\u0442\u044c \u0434\u0435\u043d\u044c\u0433\u0438",defaultValue:this.props.current.billID.toString(),name:"billID",value:this.state.billID,onChange:this.onChange},t),o.a.createElement(g.q,{top:"\u0410\u0432\u0442\u043e\u0440",defaultValue:this.props.current.authorID.toString(),name:"authorID",value:this.state.authorID,onChange:this.onChange},a)),o.a.createElement(Q,null,o.a.createElement(g.b,{size:"xl",disabled:5!==Object.values(this.state.filledFields).filter((function(e){return!0===e})).length||null===this.props.photo,onClick:function(t){e.submit(),e.props.go(t)},"data-to":"posting"},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0441\u0431\u043e\u0440")))}}]),a}(o.a.Component),ne=Object(b.b)((function(e){return{bills:e.donations.bills,authors:e.donations.authors,current:e.donations.currentDonut,photo:e.donations.currentDonut.photo}}),{setAuthor:U,setGeneralFields:J})(ae),oe=a(133),re=a.n(oe),le=a(132),ie=a.n(le),se=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){return o.a.createElement(f.a,{id:this.props.id,centered:!0},o.a.createElement(O.a,null,"\u041f\u043e\u0436\u0435\u0440\u0442\u0432\u043e\u0432\u0430\u043d\u0438\u044f"),o.a.createElement(ie.a,{action:o.a.createElement(re.a,{size:"l",onClick:this.props.go,"data-to":"donation_type"},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0441\u0431\u043e\u0440")},"\u0423 \u0432\u0430\u0441 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442 \u0441\u0431\u043e\u0440\u043e\u0432.",o.a.createElement("br",null),"\u041d\u0430\u0447\u043d\u0438\u0442\u0435 \u0434\u043e\u0431\u0440\u043e\u0435 \u0434\u0435\u043b\u043e"))}}]),a}(o.a.Component),ce=function(e){return e<10?"0".concat(e):e},ue=function(){var e=new Date;return function(e){var t=ce(e.getDate()),a=ce(e.getMonth()+1),n=e.getFullYear();return"".concat(n,"-").concat(a,"-").concat(t)}(new Date(e.setMonth(e.getMonth()+1)))};function pe(e){return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g," ")}var me=new Intl.RelativeTimeFormat("ru"),de=function(e){var t=Math.floor(e/1e3),a=Math.floor(t/60),n=Math.round(a/60),o=Math.round(n/24),r=Math.round(o/30),l=Math.round(r/12);return r>12?me.format(l,"years"):o>=31?me.format(r,"months"):n>24?me.format(o,"days"):a>60?me.format(n,"hours"):t>60?me.format(a,"minutes"):me.format(t,"seconds")};function he(e){return new Promise((function(t){return setTimeout(t,e)}))}var Ee=Object(g.y)(),ge=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state=Object(M.a)({},e.props.current),e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){if(""===this.state.goalCompletion.completionDate){var e=Object(M.a)({},this.state.goalCompletion);e.completionDate=ue(),this.setState({goalCompletion:e})}}},{key:"createDonation",value:function(){this.props.setAuthor(this.state.authorID),this.props.setGoalCompletion({completionCondition:this.state.goalCompletion.completionCondition,completionDate:this.state.goalCompletion.completionDate})}},{key:"render",value:function(){var e=this,t=this.props.authors.map((function(e){return o.a.createElement("option",{value:e.id.toString(),key:e.id},e.name)}));return o.a.createElement(g.k,{id:this.props.id},o.a.createElement(g.l,{left:o.a.createElement(g.m,{onClick:this.props.go,"data-to":"goal_donation"},Ee===g.i?o.a.createElement(D.a,null):o.a.createElement(T.a,null))},"\u0426\u0435\u043b\u0435\u0432\u043e\u0439 \u0441\u0431\u043e\u0440"),o.a.createElement(g.g,null,o.a.createElement(g.q,{top:"\u0410\u0432\u0442\u043e\u0440",defaultValue:this.props.current.authorID.toString(),name:"authorID",value:this.state.authorID,onChange:this.onChange},t),o.a.createElement(g.h,{top:"\u0421\u0431\u043e\u0440 \u0437\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u0441\u044f"},o.a.createElement(g.o,{name:"completionCondition",value:"collected",defaultChecked:"date"!==this.state.goalCompletion.completionCondition,onChange:function(t){var a=Object(M.a)({},e.state.goalCompletion);a.completionCondition=t.currentTarget.value,e.setState({goalCompletion:a})}},"\u041a\u043e\u0433\u0434\u0430 \u0441\u043e\u0431\u0435\u0440\u0435\u043c \u0441\u0443\u043c\u043c\u0443"),o.a.createElement(g.o,{name:"completionCondition",value:"date",defaultChecked:"date"===this.state.goalCompletion.completionCondition,onChange:function(t){var a=Object(M.a)({},e.state.goalCompletion);a.completionCondition=t.currentTarget.value,e.setState({goalCompletion:a})}},"\u0412 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0451\u043d\u043d\u0443\u044e \u0434\u0430\u0442\u0443")),"date"===this.state.goalCompletion.completionCondition&&o.a.createElement(g.j,{type:"date",value:this.state.goalCompletion.completionDate,onChange:function(t){console.log(t.currentTarget.value);var a=Object(M.a)({},e.state.goalCompletion);a.completionDate=t.currentTarget.value,e.setState({goalCompletion:a})}})),o.a.createElement(Q,null,o.a.createElement(g.b,{size:"xl",disabled:"date"===this.state.goalCompletion.completionCondition&&!this.state.goalCompletion.completionDate,onClick:function(t){e.createDonation(),e.props.go(t)},"data-to":"posting"},"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0441\u0431\u043e\u0440")))}}]),a}(o.a.Component),be=Object(b.b)((function(e){return{authors:e.donations.authors,current:e.donations.currentDonut}}),{setAuthor:U,setGoalCompletion:function(e){return{type:"SET_GOAL_COMPLETION",value:{completionCondition:e.completionCondition,completionDate:e.completionDate}}}})(ge),ve=a(136),fe=a.n(ve),_e=a(134),Oe=a.n(_e),ye=a(135),je=a.n(ye),Ce=(a(311),a(312),function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){return o.a.createElement(g.d,null,o.a.createElement(g.c,{size:"l",mode:"outline"},o.a.createElement("div",{className:"Snippet",onClick:this.props.onClick,"data-to":this.props["data-to"]},o.a.createElement("div",{className:"Snippet__cover",style:{backgroundImage:"url(".concat(this.props.photo,")")}}),o.a.createElement("div",{className:"Snippet__wrapper"},o.a.createElement("div",{className:"Snippet__body"},o.a.createElement("div",{className:"Snippet__title"},this.props.title),o.a.createElement("div",{className:"Snippet__metaline"},o.a.createElement("a",{href:"#"},this.props.author)," \xb7\xa0","regular"===this.props.donationType?"\u041f\u043e\u043c\u043e\u0449\u044c \u043d\u0443\u0436\u043d\u0430 \u043a\u0430\u0436\u0434\u044b\u0439 \u043c\u0435\u0441\u044f\u0446":"\u0417\u0430\u043a\u043e\u043d\u0447\u0438\u0442\u0441\u044f ".concat(de(new Date(this.props.goalEndDate)-new Date)))),o.a.createElement(g.r,null),o.a.createElement("div",{className:"Snippet__footer"},o.a.createElement("div",{className:"Snippet__progress"},0===this.props.donated?o.a.createElement("p",null,"\u041f\u043e\u043c\u043e\u0433\u0438\u0442\u0435 \u043f\u0435\u0440\u0432\u044b\u043c"):o.a.createElement("p",null,"\u0421\u043e\u0431\u0440\u0430\u043d\u043e ",pe(this.props.donated)," \u20bd \u0438\u0437 ",pe(this.props.needed)," \u20bd"),o.a.createElement(g.n,{value:this.props.donated/this.props.needed*100,style:{backgroundColor:"rgba(63, 138, 224, 0.3)"}})),o.a.createElement("div",{className:"Snippet__action"},o.a.createElement(g.b,{mode:"outline",disabled:!0===this.props.disabled},"\u041f\u043e\u043c\u043e\u0447\u044c")))))))}}]),a}(o.a.Component)),De=Object(g.y)(),ke=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state=Object(M.a)({},e.props.current),e.textarea=o.a.createRef(),e}return Object(p.a)(a,[{key:"post",value:function(){this.props.setPostText(this.state.postText)}},{key:"render",value:function(){var e=this;return o.a.createElement(g.k,{id:this.props.id},o.a.createElement(g.l,{right:o.a.createElement(g.m,{onClick:function(t){e.post(),e.props.go(t)},"data-to":"feed"},De===g.i?o.a.createElement("img",{src:Oe.a,style:{marginRight:"10px"}}):o.a.createElement(fe.a,null))},"\u041c\u0430\u0442\u0432\u0435\u0439"),o.a.createElement("div",{className:"Posting"},o.a.createElement(g.e,null,o.a.createElement("div",{className:"Posting__textarea",contentEditable:"true",ref:this.textarea,onBlur:function(t){e.setState({postText:t.target.textContent})}},this.state.postText)),o.a.createElement(Ce,{photo:this.state.photo,title:this.state.title,author:"\u041c\u0430\u0442\u0432\u0435\u0439 \u041f\u0440\u0430\u0432\u043e\u0441\u0443\u0434\u043e\u0432",donated:this.state.progress,needed:this.state.sum,disabled:!0,goalEndDate:this.state.goalCompletion.completionDate,donationType:this.state.type})),o.a.createElement(Q,{margin:0},o.a.createElement("div",{className:"Posting__hud",style:{backgroundImage:"url(".concat(je.a,")")}})))}}]),a}(o.a.Component),Se=Object(b.b)((function(e){return{authors:e.donations.authors,current:e.donations.currentDonut}}),{setPostText:function(e){return{type:"SET_POST_TEXT",value:e}}})(ke),we=a(142),Ie=a.n(we),Ne=a(143),Te=a.n(Ne),xe=a(137),Pe=a.n(xe),Fe=a(138),Ve=a.n(Fe),Ae=a(139),Be=a.n(Ae),Re=a(140),Me=a.n(Re),Ge=a(141),Ke=a.n(Ge),Le=a(144),ze=a.n(Le),He=a(56),qe=a.n(He),Je=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state=Object(M.a)({},e.props.current),e}return Object(p.a)(a,[{key:"render",value:function(){return o.a.createElement(g.k,{id:this.props.id},o.a.createElement(g.f,{activeStory:"feed",tabbar:o.a.createElement(g.s,null,o.a.createElement(g.t,{text:"\u041d\u043e\u0432\u043e\u0441\u0442\u0438",selected:!0},o.a.createElement(Pe.a,null)),o.a.createElement(g.t,{text:"\u0421\u0435\u0440\u0432\u0438\u0441\u044b"},o.a.createElement(Ve.a,null)),o.a.createElement(g.t,{label:"12",text:"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f"},o.a.createElement(Be.a,null)),o.a.createElement(g.t,{text:"\u041a\u043b\u0438\u043f\u044b"},o.a.createElement(Me.a,null)),o.a.createElement(g.t,{text:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"},o.a.createElement(Ke.a,null)))},o.a.createElement(g.k,{id:this.props.id},o.a.createElement(g.l,{left:o.a.createElement(g.m,null,o.a.createElement(Ie.a,null)),right:o.a.createElement(g.m,null,o.a.createElement(Te.a,null)),separator:!1,visor:!1},o.a.createElement(g.u,null,o.a.createElement(g.v,{selected:!0},"\u041d\u043e\u0432\u043e\u0441\u0442\u0438"),o.a.createElement(g.v,null,"\u0418\u043d\u0442\u0435\u0440\u0435\u0441\u043d\u043e\u0435"))),o.a.createElement(g.e,{style:{paddingTop:60}},o.a.createElement(g.p,{before:o.a.createElement(g.a,{size:44,src:qe.a}),caption:"\u0447\u0430\u0441 \u043d\u0430\u0437\u0430\u0434",after:o.a.createElement(ze.a,{fill:"#B8C1CC"})},"\u041c\u0430\u0442\u0432\u0435\u0439 \u041f\u0440\u0430\u0432\u043e\u0441\u0443\u0434\u0438\u043d"),o.a.createElement(g.e,{className:"Feed__postText"},this.state.postText),o.a.createElement(Ce,{photo:this.state.photo,title:this.state.title,author:"\u041c\u0430\u0442\u0432\u0435\u0439 \u041f\u0440\u0430\u0432\u043e\u0441\u0443\u0434\u043e\u0432",donated:.75*parseInt(this.state.sum),needed:parseInt(this.state.sum),goalEndDate:this.state.goalCompletion.completionDate,donationType:this.state.type,onClick:this.props.go,"data-to":"donation_view"})))))}}]),a}(o.a.Component),Ue=Object(b.b)((function(e){return{authors:e.donations.authors,current:e.donations.currentDonut}}))(Je),We=a(88),Xe=a.n(We),Ye=a(145),Qe=a(147),Ze=a.n(Qe),$e=a(148),et=a.n($e),tt=a(149),at=a.n(tt),nt=a(150),ot=a.n(nt),rt=a(151),lt=a.n(rt),it=(a(314),a(146)),st=a.n(it),ct=(a(315),function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){return Object(u.a)(this,a),t.apply(this,arguments)}return Object(p.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"DPBar"},o.a.createElement("p",{className:"DPBar__title"},"\u041d\u0443\u0436\u043d\u043e \u0441\u043e\u0431\u0440\u0430\u0442\u044c \u0432 \u0441\u0435\u043d\u0442\u044f\u0431\u0440\u0435"),o.a.createElement(st.a,{value:this.props.donated/this.props.needed*100}))}}]),a}(o.a.Component)),ut=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state=Object(M.a)({},e.props.current),e}return Object(p.a)(a,[{key:"componentDidMount",value:function(){var e=Object(Ye.a)(Xe.a.mark((function e(){var t,a,n;return Xe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=0,a=[0,.1,.22,.44,.53,.61,.724,.75,.901,1];case 2:if(!(t<a.length)){e.next=10;break}return n=a[t],this.props.setProgress(Math.floor(this.state.sum*n)),e.next=7,he(1e3);case 7:t++,e.next=2;break;case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return o.a.createElement(g.k,{id:this.props.id},o.a.createElement("div",{className:"DView__cover",style:{backgroundImage:"url(".concat(this.state.photo,")")}}),o.a.createElement(g.e,null,o.a.createElement("div",{className:"DView__header"},o.a.createElement("div",{className:"DView__title"},this.state.title),o.a.createElement("div",{className:"DView__author"},"\u0410\u0432\u0442\u043e\u0440 ",o.a.createElement("a",{href:"#"},"\u041c\u0430\u0442\u0432\u0435\u0439 \u041f\u0440\u0430\u0432\u043e\u0441\u0443\u0434\u0438\u043d")),o.a.createElement("div",{className:"DView__type"},"goal"===this.state.type?"\u0421\u0431\u043e\u0440 \u0437\u0430\u043a\u043e\u043d\u0447\u0438\u0442\u0441\u044f ".concat(de(new Date(this.state.goalCompletion.completionDate)-new Date)):"\u041f\u043e\u043c\u043e\u0449\u044c \u043d\u0443\u0436\u043d\u0430 \u043a\u0430\u0436\u0434\u044b\u0439 \u043c\u0435\u0441\u044f\u0446")),o.a.createElement(g.r,null),o.a.createElement(ct,{donationType:this.state.type,needed:this.state.sum,donated:this.props.progress,goalEndDate:this.state.goalCompletion.completionDate})),o.a.createElement(g.r,{style:{paddingTop:20}}),o.a.createElement(g.e,null,o.a.createElement("div",{className:"DView__description"},this.state.description)),o.a.createElement(g.r,{style:{paddingTop:10}}),o.a.createElement(g.e,null,o.a.createElement("div",{className:"DView__statBox"},o.a.createElement("div",{className:"DView__statBox__left"},o.a.createElement("div",{className:"DView__statBox__icon"},o.a.createElement(Ze.a,null)," ",o.a.createElement("span",null,"65")),o.a.createElement("div",{className:"DView__statBox__icon"},o.a.createElement(et.a,null)," ",o.a.createElement("span",null,"65")),o.a.createElement("div",{className:"DView__statBox__icon"},o.a.createElement(at.a,null)," ",o.a.createElement("span",null,"4"))),o.a.createElement("div",{className:"DView__statBox__right"},o.a.createElement("div",{className:"DView__statBox__icon"},o.a.createElement(ot.a,null)," ",o.a.createElement("span",null,"7,2K"))))),o.a.createElement(g.r,{wide:!0,style:{paddingBottom:10}}),o.a.createElement(g.e,null,o.a.createElement("div",{className:"DView__comment"},o.a.createElement("div",{className:"DView__comment__body"},o.a.createElement("div",{className:"DView__comment__avatar"},o.a.createElement(g.a,{size:36,src:qe.a})),o.a.createElement("div",{className:"DV__comment__message"},o.a.createElement("div",{className:"name"},"\u0410\u043b\u0435\u043a\u0441\u0435\u0439 \u041c\u0430\u0437\u0435\u043b\u044e\u043a ",o.a.createElement("span",null,"5 \u043c\u0438\u043d")),o.a.createElement("div",{className:"message"},"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u043b."))),o.a.createElement("div",{className:"DView__comment__like"},o.a.createElement(lt.a,null))),o.a.createElement("div",{className:"DView__send__comment"},o.a.createElement("div",{className:"DView__send__comment__avatar"},o.a.createElement(g.a,{size:36,src:qe.a})),o.a.createElement(g.j,{type:"text",placeholder:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"}))),o.a.createElement(Q,null,o.a.createElement(g.r,{wide:!0}),o.a.createElement("div",{className:"Snippet__footer Snippet__footer__don_view"},o.a.createElement("div",{className:"Snippet__progress"},0===this.state.progress?o.a.createElement("p",null,"\u041f\u043e\u043c\u043e\u0433\u0438\u0442\u0435 \u043f\u0435\u0440\u0432\u044b\u043c"):o.a.createElement("p",null,"\u0421\u043e\u0431\u0440\u0430\u043d\u043e ",pe(this.props.progress)," \u20bd \u0438\u0437 ",pe(parseInt(this.state.sum))," \u20bd"),o.a.createElement(g.n,{value:this.props.progress/parseInt(this.state.sum)*100,style:{backgroundColor:"#B8C1CC"}})),o.a.createElement("div",{className:"Snippet__action"},o.a.createElement(g.b,{mode:"commerce",size:"l",disabled:!0===this.props.disabled},"\u041f\u043e\u043c\u043e\u0447\u044c")))))}}]),a}(o.a.Component),pt=Object(b.b)((function(e){return{current:e.donations.currentDonut,progress:e.donations.currentDonut.progress}}),{setProgress:function(e){return{type:"SET_PROGRESS",value:e}}})(ut),mt=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(u.a)(this,a);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={activePanel:""===window.location.hash?"home":window.location.hash.replace("#",""),history:[""===window.location.hash?"home":window.location.hash.replace("#","")]},e.go=function(t){e.setState({activePanel:t.currentTarget.dataset.to}),window.location.hash=t.currentTarget.dataset.to},e.goBack=function(){var t=Object(c.a)(e.state.history);t.pop();var a=t[t.length-1];"home"===a&&s.a.send("VKWebAppDisableSwipeBack"),e.setState({history:t,activePanel:a})},e.goForward=function(t){var a=Object(c.a)(e.state.history);a.push(t),"home"===e.state.activePanel&&s.a.send("VKWebAppEnableSwipeBack"),e.setState({history:a,activePanel:t})},e}return Object(p.a)(a,[{key:"render",value:function(){return o.a.createElement(E.a,null,o.a.createElement(g.x,{activePanel:this.state.activePanel},o.a.createElement(se,{id:"home",go:this.go}),o.a.createElement(B,{id:"donation_type",go:this.go}),o.a.createElement(ne,{id:"regular_donation",go:this.go}),o.a.createElement(ee,{id:"goal_donation",go:this.go}),o.a.createElement(be,{id:"goal_donation_additional",go:this.go}),o.a.createElement(Se,{id:"posting",go:this.go}),o.a.createElement(Ue,{id:"feed",go:this.go}),o.a.createElement(pt,{id:"donation_view",go:this.go})))}}]),a}(o.a.Component),dt=Object(b.b)(null,null)(mt),ht=a(51),Et={bills:[{id:1,title:"\u0421\u0447\u0435\u0442 VK Pay \xb7 1234"},{id:2,title:"\u0421\u0447\u0435\u0442 VK Pay \xb7 5678"}],authors:[{id:1,name:"\u041c\u0430\u0442\u0432\u0435\u0439 \u041f\u0440\u0430\u0432\u043e\u0441\u0443\u0434\u043e\u0432"}],currentDonut:{type:null,photo:null,title:"",sum:"",goal:"",description:"",billID:1,authorID:1,goalCompletion:{completionCondition:"",completionDate:""},progress:1225,postText:"\u0421\u0435\u0439\u0447\u0430\u0441 \u0441\u0430\u043c\u043e\u0435 \u0432\u0440\u0435\u043c\u044f \u043f\u043e\u043c\u043e\u0447\u044c \u0442\u0435\u043c, \u043a\u0442\u043e \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u043f\u043e\u043f\u0440\u043e\u0441\u0438\u0442\u044c \u043e \u043f\u043e\u043c\u043e\u0449\u0438 \u0441\u0430\u043c."}},gt=Object(ht.b)({donations:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_PHOTO":return(e=Object(M.a)({},t)).currentDonut.photo=a.value,e;case"CLEAR_CURRENT_DONATION":return(e=Object(M.a)({},t)).currentDonut=Et.currentDonut,e;case"SET_PROGRESS":return(e=Object(M.a)({},t)).currentDonut.progress=a.value,e;case"SET_GENERAL_FIELDS":return(e=Object(M.a)({},t)).currentDonut=Object(M.a)(Object(M.a)({},e.currentDonut),a.value),e;case"SET_AUTHOR":return(e=Object(M.a)({},t)).currentDonut.authorID=a.value,e;case"SET_GOAL_COMPLETION":return(e=Object(M.a)({},t)).currentDonut.goalCompletion=a.value,e;case"SET_POST_TEXT":return(e=Object(M.a)({},t)).currentDonut.postText=a.value,e;default:return t}}}),bt=localStorage.getItem("reduxState")?JSON.parse(localStorage.getItem("reduxState")):{},vt=Object(ht.c)(gt,bt);vt.subscribe((function(){localStorage.setItem("reduxState",JSON.stringify(vt.getState()))})),s.a.send("VKWebAppInit");var ft=o.a.createElement(b.a,{store:vt},o.a.createElement(dt,null));l.a.render(ft,document.getElementById("root"))},56:function(e,t){e.exports="data:image/png;base64,"}},[[208,1,2]]]);
//# sourceMappingURL=main.94e6919f.chunk.js.map